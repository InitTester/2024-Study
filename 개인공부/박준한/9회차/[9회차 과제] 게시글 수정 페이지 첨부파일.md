![](https://github.com/InitTester/2024-study/assets/148026641/7088a4f5-c0ba-4926-9b43-35769ae5e052)

# [9회차 과제] 게시글 수정 페이지 첨부파일
## edit.jsp
작성과 읽기페이지에서 첨부파일을 추가하였으니 수정페이지에서도 첨부파일이 보이게 수정해줍니다
```jsp
<!-- 첨부되어 있는 파일 -->
<c:forEach items="${attFile}" var="attFile" varStatus="status">
    <c:if test="${attFile != null}">
        <a href='<%=ctx%>/forum/download.do?attachSeq=${attFile.attachSeq}'>
            ${attFile.orgFileNm} (${attFile.fileSize} byte)
        </a>
    </c:if>
</c:forEach>
```
그러면 값을 가져오기 위해 Controller,Service,Dao를 수정해줍니다

## BoardDao
```java
public BoardDto getRead(String boardSeq) {
    String sql = "SELECT b.board_seq , b.board_type_seq , b.title , b.content , b.hit , b.del_yn ,b.reg_dtm , "
            + "b.reg_member_seq , m.member_id, b.update_dtm , b.update_member_seq , bt.board_type_nm   "
            + "FROM board b  "
            + "JOIN board_type bt ON bt.board_type_seq  = b.board_type_seq  "
            + "JOIN member m ON m.member_seq  = b.reg_member_seq  "
            + "WHERE 1 = 1 "
            + "  AND b.board_seq = ?";
    
    Object[] args = {boardSeq};
    return queryForObject(sql, new BoardRowMapper() , args);
}
```
read에서 사용한 getRead 메서드를 사용합니다
## BoardService
```java
// 읽기페이지 가져오기
public BoardDto getRead(String boardSeq) {
    return boardDao.getRead(boardSeq);
}
```
read에서 사용한 getRead 메서드를 사용합니다
## NoticeController
이제 가져온 값들을 editPage메서드에 추가해줍니다
```java
// 첨부파일
mv.addObject("attFile", service.getAttFile(
        Integer.parseInt(params.get("boardSeq")),
        Integer.parseInt(params.get("boardTypeSeq")))
        );
```
이렇게만 해주면 일단 수정페이지에서 첨부파일을 확인할 수 있습니다
